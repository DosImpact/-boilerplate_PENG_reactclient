(this["webpackJsonpprismagram-frontend"]=this["webpackJsonpprismagram-frontend"]||[]).push([[0],{62:function(e,n,t){e.exports=t(91)},91:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(24),i=t.n(c),o=t(2),l=t(5),u=t(49);function m(){var e=Object(o.a)(["\n    ",";\n    @import url('https://fonts.googleapis.com/css?family=Open+Sans:400,600,700');\n    *{\n        box-sizing: border-box;\n    }\n    body{\n        background-color:",";\n        color: ",";\n        font-size:14px;\n        font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n        padding-top: 140px;\n    }\n    a {\n        color:",";\n        text-decoration:none;\n    }\n    input:focus{\n        outline:none;\n    }\n"]);return m=function(){return e},e}var s=Object(l.b)(m(),u.a,(function(e){return e.theme.bgColor}),(function(e){return e.theme.blackColor}),(function(e){return e.theme.blueColor})),d=t(18),f=t(8),g=t(96),b=t(14),p=(t(70),{maxWidth:"935px",bgColor:"#FAFAFA",blackColor:"#262626",darkGreyColor:"#999",lightGreyColor:"#c7c7c7",redColor:"#ED4956",blueColor:"#3897f0",darkBlueColor:"#003569",boxBorder:"1px solid #e6e6e6",borderRadius:"4px",whiteBox:"border:".concat("1px solid #e6e6e6",";\n             border-radius:").concat("4px",";\n             background-color:white;\n            ")}),v=t(9),h=t(25),E=t.n(h),x=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 5.999l-5.621 2.986c-.899-.104-1.806.191-2.474.859-.662.663-.95 1.561-.862 2.428l-3.043 5.728 5.724-3.042c.884.089 1.772-.205 2.432-.865.634-.634.969-1.524.859-2.473l2.985-5.621zm-5.97 7.22c-.689 0-1.25-.559-1.25-1.249-.001-.691.559-1.251 1.25-1.25.69 0 1.25.56 1.25 1.25-.001.689-.56 1.249-1.25 1.249z"}))},O=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M6.28 3c3.236.001 4.973 3.491 5.72 5.031.75-1.547 2.469-5.021 5.726-5.021 2.058 0 4.274 1.309 4.274 4.182 0 3.442-4.744 7.851-10 13-5.258-5.151-10-9.559-10-13 0-2.676 1.965-4.193 4.28-4.192zm.001-2c-3.183 0-6.281 2.187-6.281 6.192 0 4.661 5.57 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-4.011-3.097-6.182-6.274-6.182-2.204 0-4.446 1.042-5.726 3.238-1.285-2.206-3.522-3.248-5.719-3.248z"}))},j=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 1c-6.627 0-12 4.364-12 9.749 0 3.131 1.817 5.917 4.64 7.7.868 2.167-1.083 4.008-3.142 4.503 2.271.195 6.311-.121 9.374-2.498 7.095.538 13.128-3.997 13.128-9.705 0-5.385-5.373-9.749-12-9.749z"}))},w=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ED4956"},a.a.createElement("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"}))},k=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 2c2.757 0 5 2.243 5 5.001 0 2.756-2.243 5-5 5s-5-2.244-5-5c0-2.758 2.243-5.001 5-5.001zm0-2c-3.866 0-7 3.134-7 7.001 0 3.865 3.134 7 7 7s7-3.135 7-7c0-3.867-3.134-7.001-7-7.001zm6.369 13.353c-.497.498-1.057.931-1.658 1.302 2.872 1.874 4.378 5.083 4.972 7.346h-19.387c.572-2.29 2.058-5.503 4.973-7.358-.603-.374-1.162-.811-1.658-1.312-4.258 3.072-5.611 8.506-5.611 10.669h24c0-2.142-1.44-7.557-5.631-10.647z"}))},C=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 3c5.514 0 10 3.476 10 7.747 0 4.272-4.48 7.748-9.986 7.748-.62 0-1.092-.046-1.759-.097-1 .776-1.774 1.403-3.485 1.962.26-1.383-.113-2.259-.514-3.259-2.383-1.505-4.256-3.411-4.256-6.354 0-4.271 4.486-7.747 10-7.747zm0-2c-6.627 0-12 4.363-12 9.747 0 3.13 1.816 5.916 4.641 7.699.867 2.167-1.084 4.008-3.143 4.502 3.085.266 6.776-.481 9.374-2.497 7.08.54 13.128-3.988 13.128-9.704 0-5.384-5.373-9.747-12-9.747z"}))},y=function(e){var n=e.size,t=void 0===n?24:n;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"}))};function S(){var e=Object(o.a)(["\n  animation: "," 1s linear infinite;\n  width: 100%;\n  text-align: center;\n"]);return S=function(){return e},e}function z(){var e=Object(o.a)(["\n    0%{\n        opacity:0\n    }\n    50%{\n        opacity:1\n    }\n    100%{\n        opacity:0;\n    }\n"]);return z=function(){return e},e}var I=Object(l.e)(z()),F=l.d.div(S(),I),$=function(){return a.a.createElement(F,null,a.a.createElement(y,{size:36}))},L=t(26),N=t.n(L),U=t(59),B=t(33),A=t(11),P=function(e){var n=Object(r.useState)(e),t=Object(A.a)(n,2),a=t[0],c=t[1];return{value:a,onChange:function(e){var n=e.target.value;c(n)},setValue:c}};function q(){var e=Object(o.a)(["\n  font-weight: 600;\n"]);return q=function(){return e},e}var M=l.d.span(q()),T=function(e){var n=e.text,t=e.className;return a.a.createElement(M,{className:t},n)};function D(){var e=Object(o.a)(["\n  ","\n  background-image:url(",");\n  background-size:cover;\n  border-radius:50%;\n"]);return D=function(){return e},e}var G=l.d.div(D(),(function(e){return function(e){var n;return"sm"===e?n=30:"md"===e?n=50:"lg"===e&&(n=150),"\n        width:".concat(n,"px;\n        height:").concat(n,"px;\n        ")}(e.size)}),(function(e){return e.url})),R=function(e){var n=e.size,t=void 0===n?"sm":n,r=e.url,c=e.className;return a.a.createElement(G,{className:c,size:t,url:r})},K=t(52),W=t.n(K);function H(){var e=Object(o.a)(["\n  margin: 10px 0px;\n"]);return H=function(){return e},e}function J(){var e=Object(o.a)(["\n  margin-bottom: 7px;\n  span {\n    margin-right: 5px;\n  }\n"]);return J=function(){return e},e}function V(){var e=Object(o.a)(["\n  margin-top: 10px;\n"]);return V=function(){return e},e}function Y(){var e=Object(o.a)(["\n  font-weight: 400;\n  text-transform: uppercase;\n  opacity: 0.5;\n  display: block;\n  font-size: 12px;\n  margin: 10px 0px;\n  padding-bottom: 10px;\n  border-bottom: "," 1px solid;\n"]);return Y=function(){return e},e}function _(){var e=Object(o.a)(["\n  "," {\n    &:first-child {\n      margin-right: 10px;\n    }\n  }\n  margin-bottom: 10px;\n"]);return _=function(){return e},e}function Q(){var e=Object(o.a)(["\n  padding: 15px;\n"]);return Q=function(){return e},e}function X(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return X=function(){return e},e}function Z(){var e=Object(o.a)(["\n  border: none;\n  width: 100%;\n  resize: none;\n  font-size: 14px;\n  &:focus {\n    outline: none;\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(o.a)(["\n  max-width: 100%;\n  width: 100%;\n  height: 600px;\n  position: absolute;\n  top: 0;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  opacity: ",";\n  transition: opacity 0.5s linear;\n"]);return ee=function(){return e},e}function ne(){var e=Object(o.a)(["\n  position: relative;\n  padding-bottom: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  flex-shrink: 0;\n"]);return ne=function(){return e},e}function te(){var e=Object(o.a)(["\n  display: block;\n  margin-top: 5px;\n  font-size: 12px;\n"]);return te=function(){return e},e}function re(){var e=Object(o.a)(["\n  margin-left: 10px;\n"]);return re=function(){return e},e}function ae(){var e=Object(o.a)(["\n  padding: 15px;\n  display: flex;\n  align-items: center;\n"]);return ae=function(){return e},e}function ce(){var e=Object(o.a)(["\n  ",";\n  width: 100%;\n  max-width: 600px;\n  margin-bottom: 25px;\n  user-select: none;\n  a {\n    color: inherit;\n  }\n"]);return ce=function(){return e},e}var ie=function(e){var n=e.user,t=n.name,r=n.avatar,c=e.location,i=e.files,o=e.isLiked,l=e.likeCount,u=e.createdAt,m=e.newComment,s=e.currentItem,f=e.toggleLike,g=e.onKeyPress,b=e.comments,p=e.selfComments,v=e.caption;return a.a.createElement(oe,null,a.a.createElement(le,null,a.a.createElement(R,{size:"sm",url:r}),a.a.createElement(ue,null,a.a.createElement(d.b,{to:"/".concat(t)},a.a.createElement(T,{text:t})),a.a.createElement(me,null,c))),a.a.createElement(se,null,console.log(i),i&&i.map((function(e,n){return a.a.createElement(de,{key:e.id,src:e.url,showing:n===s})}))),a.a.createElement(be,null,a.a.createElement(pe,null,a.a.createElement(ge,{onClick:f},o?a.a.createElement(w,null):a.a.createElement(O,null)),a.a.createElement(ge,null,a.a.createElement(C,null))),a.a.createElement(T,{text:1===l?"1 like":"".concat(l," likes")}),a.a.createElement(xe,null,a.a.createElement(T,{text:t})," ",v),b&&a.a.createElement(he,null,b.map((function(e){return a.a.createElement(Ee,{key:e.id},a.a.createElement(T,{text:e.user.name}),e.text)})),p.map((function(e){return a.a.createElement(Ee,{key:e.id},a.a.createElement(T,{text:e.user.name}),e.text)}))),a.a.createElement(ve,null,u),a.a.createElement(fe,{onKeyPress:g,placeholder:"Add a comment...",value:m.value,onChange:m.onChange})))},oe=l.d.div(ce(),(function(e){return e.theme.whiteBox})),le=l.d.header(ae()),ue=l.d.div(re()),me=l.d.span(te()),se=l.d.div(ne()),de=l.d.div(ee(),(function(e){return e.src}),(function(e){return e.showing?1:0})),fe=Object(l.d)(W.a)(Z()),ge=l.d.span(X()),be=l.d.div(Q()),pe=l.d.div(_(),ge),ve=l.d.span(Y(),(function(e){return e.theme.lightGreyColor})),he=l.d.ul(V()),Ee=l.d.li(J()),xe=l.d.div(H()),Oe=t(95);function je(){var e=Object(o.a)(["\n  mutation addComment($postId: String!, $text: String!) {\n    addComment(postId: $postId, text: $text) {\n      id\n      text\n      user {\n        username\n      }\n    }\n  }\n"]);return je=function(){return e},e}function we(){var e=Object(o.a)(["\n  mutation toggelLike($postId: String!) {\n    toggleLike(postId: $postId)\n  }\n"]);return we=function(){return e},e}var ke=Object(f.b)(we()),Ce=Object(f.b)(je()),ye=function(e){var n=e.id,t=e.user,c=e.files,i=e.likeCount,o=e.isLiked,l=e.comments,u=e.createdAt,m=e.caption,s=e.location,d=Object(r.useState)(o),f=Object(A.a)(d,2),g=f[0],p=f[1],v=Object(r.useState)(i),h=Object(A.a)(v,2),E=h[0],x=h[1],O=Object(r.useState)(0),j=Object(A.a)(O,2),w=j[0],k=j[1],C=Object(r.useState)([]),y=Object(A.a)(C,2),S=y[0],z=y[1],I=P(""),F=Object(Oe.a)(ke,{variables:{postId:n}}),$=Object(A.a)(F,1)[0],L=Object(Oe.a)(Ce,{variables:{postId:n,text:I.value}}),q=Object(A.a)(L,1)[0];Object(r.useEffect)((function(){!function(){var e=c.length;w===e-1?setTimeout((function(){return k(0)}),3e3):setTimeout((function(){return k(w+1)}),3e3)}()}),[w]);var M=function(){var e=Object(B.a)(N.a.mark((function e(n){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==n.which){e.next=15;break}return n.preventDefault(),e.prev=3,e.next=6,q();case 6:t=e.sent,r=t.data.addComment,z([].concat(Object(U.a)(S),[r])),I.setValue(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),b.b.error("Cant send comment");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(ie,{user:t,files:c,likeCount:E,location:s,caption:m,isLiked:g,comments:l,createdAt:u,newComment:I,setIsLiked:p,setLikeCount:x,currentItem:w,toggleLike:function(){$(),!0===g?(p(!1),x(E-1)):(p(!0),x(E+1))},onKeyPress:M,selfComments:S})};function Se(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 80vh;\n"]);return Se=function(){return e},e}function ze(){var e=Object(o.a)(["\n  {\n    seeFeed {\n      id\n      location\n      caption\n      user {\n        id\n        avatar\n        name\n      }\n      files {\n        id\n        url\n      }\n      likeCount\n      isLiked\n      comments {\n        id\n        text\n        user {\n          id\n          name\n        }\n      }\n      createdAt\n    }\n  }\n"]);return ze=function(){return e},e}var Ie=Object(f.b)(ze()),Fe=function(){var e=Object(g.a)(Ie),n=e.data,t=e.loading;return a.a.createElement($e,null,a.a.createElement(E.a,null,a.a.createElement("title",null,"Feed | Prismagram")),t&&a.a.createElement($,null),!t&&console.log(n),!t&&n&&n.seeFeed&&n.seeFeed.map((function(e){return a.a.createElement(ye,{key:e.id,id:e.id,location:e.location,caption:e.caption,user:e.user,files:e.files,likeCount:e.likeCount,isLiked:e.isLiked,comments:e.comments,createdAt:e.createdAt})})))},$e=l.d.div(Se());function Le(){var e=Object(o.a)(["\n  border: 0;\n  border: ",";\n  border-radius: ",";\n  background-color: ",";\n  height: 35px;\n  font-size: 12px;\n  padding: 0px 15px;\n"]);return Le=function(){return e},e}var Ne=l.d.input(Le(),(function(e){return e.theme.boxBorder}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.bgColor})),Ue=function(e){var n=e.placeholder,t=e.required,r=void 0===t||t,c=e.value,i=e.onChange,o=e.type,l=void 0===o?"text":o,u=e.className;return a.a.createElement(Ne,{className:u,placeholder:n,required:r,value:c,onChange:i,type:l})};function Be(){var e=Object(o.a)(["\n  width: 100%;\n  border: 0;\n  border-radius: ",";\n  color: white;\n  font-weight: 600;\n  background-color: ",";\n  text-align: center;\n  padding: 7px 0px;\n  font-size: 14px;\n  cursor: pointer;\n"]);return Be=function(){return e},e}var Ae=l.d.button(Be(),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.blueColor})),Pe=function(e){var n=e.text,t=e.onClick;return a.a.createElement(Ae,{onClick:t},n)};function qe(){var e=Object(o.a)(["\n  padding: 40px;\n  padding-bottom: 30px;\n  margin-bottom: 15px;\n  form {\n    width: 100%;\n    input {\n      width: 100%;\n      &:not(:last-child) {\n        margin-bottom: 7px;\n      }\n    }\n    button {\n      margin-top: 10px;\n    }\n  }\n"]);return qe=function(){return e},e}function Me(){var e=Object(o.a)(["\n  color: ",";\n  cursor: pointer;\n"]);return Me=function(){return e},e}function Te(){var e=Object(o.a)(["\n  text-align: center;\n  padding: 20px 0px;\n"]);return Te=function(){return e},e}function De(){var e=Object(o.a)(["\n  ","\n  border-radius:0px;\n  width: 100%;\n  max-width: 350px;\n"]);return De=function(){return e},e}function Ge(){var e=Object(o.a)(["\n  min-height: 80vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return Ge=function(){return e},e}var Re=l.d.div(Ge()),Ke=l.d.div(De(),(function(e){return e.theme.whiteBox})),We=Object(l.d)(Ke)(Te()),He=l.d.span(Me(),(function(e){return e.theme.blueColor})),Je=Object(l.d)(Ke)(qe()),Ve=function(e){var n=e.setAction,t=e.action,r=e.name,c=(e.password,e.firstName),i=e.lastName,o=e.email,l=e.onSubmit,u=e.secret;return a.a.createElement(Re,null,a.a.createElement(Je,null,"logIn"===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null,a.a.createElement("title",null,"Log In | Prismagram")),a.a.createElement("form",{onSubmit:l},a.a.createElement(Ue,Object.assign({placeholder:"Email"},o,{type:"email"})),a.a.createElement(Pe,{text:"Log in"}))),"signUp"===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null,a.a.createElement("title",null,"Sign Up | Prismagram")),a.a.createElement("form",{onSubmit:l},a.a.createElement(Ue,Object.assign({placeholder:"First name"},c)),a.a.createElement(Ue,Object.assign({placeholder:"Last name"},i)),a.a.createElement(Ue,Object.assign({placeholder:"Email"},o,{type:"email"})),a.a.createElement(Ue,Object.assign({placeholder:"name"},r)),a.a.createElement(Pe,{text:"Sign up"}))),"confirm"===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null,a.a.createElement("title",null,"Confirm Secret | Prismagram")),a.a.createElement("form",{onSubmit:l},a.a.createElement(Ue,Object.assign({placeholder:"Paste your secret",required:!0},u)),a.a.createElement(Pe,{text:"Confirm"})))),"confirm"!==t&&a.a.createElement(We,null,"logIn"===t?a.a.createElement(a.a.Fragment,null,"Don't have an account?"," ",a.a.createElement(He,{onClick:function(){return n("signUp")}},"Sign up")):a.a.createElement(a.a.Fragment,null,"Have an account?"," ",a.a.createElement(He,{onClick:function(){return n("logIn")}},"Log in"))))};function Ye(){var e=Object(o.a)(["\n  mutation logUserIn($token: String!) {\n    logUserIn(token: $token) @client\n  }\n"]);return Ye=function(){return e},e}function _e(){var e=Object(o.a)(["\n  mutation confirmSecret($secret: String!, $email: String!) {\n    confirmSecret(secret: $secret, email: $email)\n  }\n"]);return _e=function(){return e},e}function Qe(){var e=Object(o.a)(["\n  mutation createAccount(\n    $name: String!\n    $email: String!\n    $firstName: String\n    $lastName: String\n  ) {\n    createAccount(\n      name: $name\n      email: $email\n      firstName: $firstName\n      lastName: $lastName\n    )\n  }\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(o.a)(["\n  mutation requestSecret($email: String!) {\n    requestSecret(email: $email)\n  }\n"]);return Xe=function(){return e},e}var Ze=Object(f.b)(Xe()),en=Object(f.b)(Qe()),nn=Object(f.b)(_e()),tn=Object(f.b)(Ye()),rn=function(){var e=Object(r.useState)("logIn"),n=Object(A.a)(e,2),t=n[0],c=n[1],i=P(""),o=P(""),l=P(""),u=P(""),m=P(""),s=Object(Oe.a)(Ze,{update:function(e,n){n.data.requestSecret?(b.b.success("login secret sended!!"),c("confirm")):b.b.error("You dont have an account yet, create one")},variables:{email:m.value}}),d=Object(A.a)(s,1)[0],f=Object(Oe.a)(en,{variables:{email:m.value,name:i.value,firstName:o.value,lastName:l.value}}),g=Object(A.a)(f,1)[0],p=Object(Oe.a)(nn,{variables:{email:m.value,secret:u.value}}),v=Object(A.a)(p,1)[0],h=Object(Oe.a)(tn),E=Object(A.a)(h,1)[0],x=function(){var e=Object(B.a)(N.a.mark((function e(n){var r,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"logIn"!==t){e.next=17;break}if(""===m.value){e.next=14;break}return e.prev=3,e.next=6,d();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),b.b.error("Can't request secret, try again");case 12:e.next=15;break;case 14:b.b.error("Email is required");case 15:e.next=53;break;case 17:if("signUp"!==t){e.next=35;break}if(""===m.value||""===i.value||""===o.value||""===l.value){e.next=32;break}return e.prev=19,e.next=22,g();case 22:r=e.sent,r.data.createAccount?b.b.error("Can't create Account, try again"):(b.b.success("Account Created! "),setTimeout((function(){return c("logIn")}),10)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(19),b.b.error(e.t1.message);case 30:e.next=33;break;case 32:b.b.error("All field are required");case 33:e.next=53;break;case 35:if("confirm"!==t){e.next=53;break}if(""===u.value){e.next=53;break}return e.prev=37,e.next=40,v();case 40:if(a=e.sent,s=a.data.confirmSecret,console.log(s),""===s||void 0===s){e.next=47;break}E({variables:{token:s}}),e.next=48;break;case 47:throw Error();case 48:e.next=53;break;case 50:e.prev=50,e.t2=e.catch(37),b.b.error("cant confirm secret, wait a miniute and check your email again ");case 53:case"end":return e.stop()}}),e,null,[[3,8],[19,27],[37,50]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(Ve,{setAction:c,action:t,name:i,firstName:o,lastName:l,email:m,onSubmit:x,secret:u})};function an(){var e=Object(o.a)(["\n  mutation unfollow($id: String!) {\n    unfollow(id: $id)\n  }\n"]);return an=function(){return e},e}function cn(){var e=Object(o.a)(["\n  mutation follow($id: String!) {\n    follow(id: $id)\n  }\n"]);return cn=function(){return e},e}var on=Object(f.b)(cn()),ln=Object(f.b)(an()),un=function(e){var n=e.isFollowing,t=e.onClick;return a.a.createElement(Pe,{text:n?"Unfollow":"Follow",onClick:t})},mn=function(e){var n=e.isFollowing,t=e.id,c=Object(r.useState)(n),i=Object(A.a)(c,2),o=i[0],l=i[1],u=Object(Oe.a)(on,{variables:{id:t}}),m=Object(A.a)(u,1)[0],s=Object(Oe.a)(ln,{variables:{id:t}}),d=Object(A.a)(s,1)[0];return a.a.createElement(un,{onClick:function(){!0===o?(l(!1),d()):(l(!0),m())},isFollowing:o})};function sn(){var e=Object(o.a)(["\n  color: inherit;\n  margin-bottom: 10px;\n"]);return sn=function(){return e},e}function dn(){var e=Object(o.a)(["\n  margin-bottom: 15px;\n"]);return dn=function(){return e},e}function fn(){var e=Object(o.a)(["\n  ","\n  display:flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n"]);return fn=function(){return e},e}var gn=l.d.div(fn(),(function(e){return e.theme.whiteBox})),bn=Object(l.d)(R)(dn()),pn=Object(l.d)(d.b)(sn()),vn=function(e){var n=e.id,t=e.name,r=e.isFollowing,c=e.url,i=e.isSelf;return a.a.createElement(gn,null,a.a.createElement(bn,{url:c,size:"md"}),a.a.createElement(pn,{to:"/".concat(t)},a.a.createElement(T,{text:t})),!i&&a.a.createElement(mn,{id:n,isFollowing:r}))};function hn(){var e=Object(o.a)(["\n  margin-left: 10px;\n  font-size: 16px;\n"]);return hn=function(){return e},e}function En(){var e=Object(o.a)(["\n  color: white;\n  display: flex;\n  align-items: center;\n  &:first-child {\n    margin-right: 30px;\n  }\n"]);return En=function(){return e},e}function xn(){var e=Object(o.a)(["\n  background-image: url(",");\n  background-size: cover;\n  cursor: pointer;\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"]);return xn=function(){return e},e}function On(){var e=Object(o.a)(["\n  background-color: rgba(0, 0, 0, 0.6);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  transition: opacity 0.3s linear;\n  svg {\n    fill: white;\n  }\n"]);return On=function(){return e},e}var jn=l.d.div(On()),wn=l.d.div(xn(),(function(e){return e.bg}),jn),kn=l.d.div(En()),Cn=l.d.span(hn()),yn=function(e){var n=e.likeCount,t=e.commentCount,r=e.file;return a.a.createElement(wn,{bg:r.url},a.a.createElement(jn,null,a.a.createElement(kn,null,a.a.createElement(w,null),a.a.createElement(Cn,null,n)),a.a.createElement(kn,null,a.a.createElement(j,null),a.a.createElement(Cn,null,t))))};function Sn(){var e=Object(o.a)(["\n  grid-template-columns: repeat(4, 200px);\n  grid-template-rows: 200px;\n  grid-auto-rows: 200px;\n"]);return Sn=function(){return e},e}function zn(){var e=Object(o.a)(["\n  margin-bottom: 50px;\n  display: grid;\n  grid-gap: 25px;\n  grid-template-columns: repeat(4, 160px);\n  grid-template-rows: 160px;\n  grid-auto-rows: 160px;\n"]);return zn=function(){return e},e}function In(){var e=Object(o.a)(["\n  height: 50vh;\n  text-align: center;\n"]);return In=function(){return e},e}var Fn=l.d.div(In()),$n=l.d.div(zn()),Ln=Object(l.d)($n)(Sn()),Nn=function(e){var n=e.searchTerm,t=e.loading,r=e.data;return void 0===n?a.a.createElement(Fn,null,a.a.createElement(T,{text:"Search for something"})):!0===t?a.a.createElement(Fn,null,a.a.createElement($,null)):r&&r.searchUser&&r.searchPost?a.a.createElement(Fn,null,a.a.createElement($n,null,0===r.searchUser.length?a.a.createElement(T,{text:"No Users Found"}):r.searchUser.map((function(e){return a.a.createElement(vn,{key:e.id,name:e.name,isFollowing:e.isFollowing,url:e.avatar,isSelf:e.isSelf,id:e.id})}))),a.a.createElement(Ln,null,0===r.searchPost.length?a.a.createElement(T,{text:"No Posts Found"}):r.searchPost.map((function(e){return a.a.createElement(yn,{key:e.id,likeCount:e.likeCount,commentCount:e.commentCount,file:e.files[0]})})))):a.a.createElement(Fn,null,a.a.createElement(T,{text:"Search for nothing"}))};function Un(){var e=Object(o.a)(["\n  query search($term: String!) {\n    searchPost(term: $term) {\n      id\n      files {\n        url\n      }\n      likeCount\n      commentCount\n    }\n    searchUser(term: $term) {\n      id\n      avatar\n      name\n      isFollowing\n      isSelf\n    }\n  }\n"]);return Un=function(){return e},e}var Bn=Object(f.b)(Un());Object(v.g)((function(e){var n=e.location.search.split("=")[1],t=Object(g.a)(Bn,{skip:void 0===n,variables:{term:n}}),r=t.data,c=t.loading;return a.a.createElement(Nn,{searchTerm:n,loading:c,data:r})}));function An(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 200px);\n  grid-template-rows: 200px;\n  grid-auto-rows: 200px;\n"]);return An=function(){return e},e}function Pn(){var e=Object(o.a)(["\n  margin: 10px 0px;\n"]);return Pn=function(){return e},e}function qn(){var e=Object(o.a)(["\n  font-size: 16px;\n"]);return qn=function(){return e},e}function Mn(){var e=Object(o.a)(["\n  font-size: 16px;\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]);return Mn=function(){return e},e}function Tn(){var e=Object(o.a)(["\n  display: flex;\n  margin: 15px 0px;\n"]);return Tn=function(){return e},e}function Dn(){var e=Object(o.a)(["\n  font-size: 26px;\n  display: block;\n"]);return Dn=function(){return e},e}function Gn(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return Gn=function(){return e},e}function Rn(){var e=Object(o.a)([""]);return Rn=function(){return e},e}function Kn(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  width: 80%;\n  margin: 0 auto;\n  margin-bottom: 40px;\n"]);return Kn=function(){return e},e}function Wn(){var e=Object(o.a)(["\n  min-height: 100vh;\n"]);return Wn=function(){return e},e}var Hn=l.d.div(Wn()),Jn=l.d.header(Kn()),Vn=l.d.div(Rn()),Yn=l.d.div(Gn()),_n=l.d.span(Dn()),Qn=l.d.ul(Tn()),Xn=l.d.li(Mn()),Zn=Object(l.d)(T)(qn()),et=l.d.p(Pn()),nt=l.d.div(An()),tt=function(e){var n=e.loading,t=e.data,r=e.logOut;if(!0===n)return a.a.createElement(Hn,null,a.a.createElement($,null));if(!n&&t&&t.seeUser){var c=t.seeUser,i=c.id,o=c.avatar,l=c.name,u=c.fullName,m=c.isFollowing,s=c.isSelf,d=c.bio,f=c.followingCount,g=c.followersCount,b=c.postsCount,p=c.posts;return a.a.createElement(Hn,null,a.a.createElement(E.a,null,a.a.createElement("title",null,l," | Prismagram")),a.a.createElement(Jn,null,a.a.createElement(Vn,null,a.a.createElement(R,{size:"lg",url:o})),a.a.createElement(Vn,null,a.a.createElement(Yn,null,a.a.createElement(_n,null,l)," ",s?a.a.createElement(Pe,{onClick:function(e){return r},text:"Log Out"}):a.a.createElement(mn,{isFollowing:m,id:i})),a.a.createElement(Qn,null,a.a.createElement(Xn,null,a.a.createElement(T,{text:String(b)})," posts"),a.a.createElement(Xn,null,a.a.createElement(T,{text:String(g)})," followers"),a.a.createElement(Xn,null,a.a.createElement(T,{text:String(f)})," following")),a.a.createElement(Zn,{text:u}),a.a.createElement(et,null,d))),a.a.createElement(nt,null,p&&p.map((function(e){return a.a.createElement(yn,{key:e.id,likeCount:e.likeCount,commentCount:e.commentCount,file:e.files[0]})}))))}return null};function rt(){var e=Object(o.a)(["\n  mutation logUserOut {\n    logUserOut @client\n  }\n"]);return rt=function(){return e},e}function at(){var e=Object(o.a)(["\n  query seeUser($name: String!) {\n    seeUser(name: $name) {\n      id\n      avatar\n      name\n      fullName\n      isFollowing\n      isSelf\n      bio\n      followingCount\n      followersCount\n      postsCount\n      posts {\n        id\n        files {\n          url\n        }\n        likeCount\n        commentCount\n      }\n    }\n  }\n"]);return at=function(){return e},e}var ct=Object(f.b)(at()),it=Object(f.b)(rt()),ot=(Object(v.g)((function(e){var n=e.match.params.username,t=Object(g.a)(ct,{variables:{name:n}}),r=t.data,c=t.loading,i=Object(Oe.a)(it);return a.a.createElement(tt,{loading:c,logOut:i,data:r})})),function(){return a.a.createElement(v.d,null,a.a.createElement(v.b,{exact:!0,path:"/",component:Fe}))}),lt=function(){return a.a.createElement(v.d,null,a.a.createElement(v.b,{exact:!0,path:"/",component:rn}),a.a.createElement(v.a,{from:"*",to:"/"}))},ut=function(e){return e.isLoggedIn?a.a.createElement(ot,null):a.a.createElement(lt,null)};function mt(){var e=Object(o.a)(["\n  color: ",";\n"]);return mt=function(){return e},e}function st(){var e=Object(o.a)(["\n  color: ",";\n"]);return st=function(){return e},e}function dt(){var e=Object(o.a)(["\n  &:not(:last-child) {\n    margin-right: 16px;\n  }\n"]);return dt=function(){return e},e}function ft(){var e=Object(o.a)(["\n  display: flex;\n"]);return ft=function(){return e},e}function gt(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: 600;\n  font-size: 12px;\n  margin: 50px 0px;\n"]);return gt=function(){return e},e}var bt=l.d.footer(gt()),pt=l.d.ul(ft()),vt=l.d.li(dt()),ht=l.d.a(st(),(function(e){return e.theme.darkBlueColor})),Et=l.d.span(mt(),(function(e){return e.theme.darkGreyColor})),xt=function(){return a.a.createElement(bt,null,a.a.createElement(pt,null,a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"about us")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"support")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"press")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"api")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"jobs")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"privacy")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"terms")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"directory")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"profiles")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"hashtags")),a.a.createElement(vt,null,a.a.createElement(ht,{href:"#"},"language"))),a.a.createElement(Et,null,"Instaclone ",(new Date).getFullYear()," \xa9"))};function Ot(){var e=Object(o.a)(["\n  {\n    me {\n      name\n    }\n  }\n"]);return Ot=function(){return e},e}var jt=Object(f.b)(Ot());function wt(){var e=Object(o.a)(["\n  &:not(:last-child) {\n    margin-right: 30px;\n  }\n"]);return wt=function(){return e},e}function kt(){var e=Object(o.a)(["\n  background-color: ",";\n  padding: 5px;\n  font-size: 14px;\n  border-radius: 3px;\n  height: auto;\n  text-align: center;\n  width: 70%;\n  &::placeholder {\n    opacity: 0.8;\n    font-weight: 200;\n  }\n"]);return kt=function(){return e},e}function Ct(){var e=Object(o.a)(["\n  width: 33%;\n  text-align: center;\n  &:first-child {\n    margin-right: auto;\n    text-align: left;\n  }\n  &:last-child {\n    margin-left: auto;\n    text-align: right;\n  }\n"]);return Ct=function(){return e},e}function yt(){var e=Object(o.a)(["\n  width: 100%;\n  max-width: ",";\n  display: flex;\n  justify-content: center;\n  z-index: 2;\n"]);return yt=function(){return e},e}function St(){var e=Object(o.a)(["\n  width: 100%;\n  border: 0;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: white;\n  border-bottom: ",";\n  border-radius: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 25px 0px;\n"]);return St=function(){return e},e}var zt=Object(v.g)((function(e){var n=e.history,t=P(""),r=Object(g.a)(jt).data;return a.a.createElement(It,null,a.a.createElement(Ft,null,a.a.createElement($t,null,a.a.createElement(d.b,{to:"/"},a.a.createElement(y,null))),a.a.createElement($t,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.push("/search?term=".concat(t.value))}},a.a.createElement(Lt,{value:t.value,onChange:t.onChange,placeholder:"Search"}))),a.a.createElement($t,null,a.a.createElement(Nt,{to:"/explore"},a.a.createElement(x,null)),a.a.createElement(Nt,{to:"/notifications"},a.a.createElement(O,null)),r?a.a.createElement(Nt,{to:r.me.name},a.a.createElement(k,null)):a.a.createElement(Nt,{to:"/#"},a.a.createElement(k,null)))))})),It=l.d.header(St(),(function(e){return e.theme.boxBorder})),Ft=l.d.div(yt(),(function(e){return e.theme.maxWidth})),$t=l.d.div(Ct()),Lt=Object(l.d)(Ue)(kt(),(function(e){return e.theme.bgColor})),Nt=Object(l.d)(d.b)(wt());function Ut(){var e=Object(o.a)(["\n  margin: 0 auto;\n  max-width: ",";\n  width: 100%;\n"]);return Ut=function(){return e},e}function Bt(){var e=Object(o.a)(["\n  {\n    isLoggedIn @client\n  }\n"]);return Bt=function(){return e},e}var At=Object(f.b)(Bt()),Pt=l.d.div(Ut(),(function(e){return e.theme.maxWidth})),qt=function(){var e=Object(g.a)(At).data.isLoggedIn;return a.a.createElement(l.a,{theme:p},a.a.createElement(a.a.Fragment,null,a.a.createElement(s,null),a.a.createElement(d.a,null,a.a.createElement(Pt,null,a.a.createElement(a.a.Fragment,null,e&&a.a.createElement(zt,null),a.a.createElement(ut,{isLoggedIn:e}),a.a.createElement(xt,null)))),a.a.createElement(b.a,{position:b.b.POSITION.BOTTOM_LEFT})))},Mt={isLoggedIn:Boolean(localStorage.getItem("token"))||!1},Tt={Mutation:{logUserIn:function(e,n,t){var r=n.token,a=t.cache;return localStorage.setItem("token",r),a.writeData({data:{isLoggedIn:!0}}),null},logUserOut:function(e,n,t){t.cache;return localStorage.removeItem("token"),window.location="/",null}}};console.log();var Dt=new f.a({uri:"http://133.186.241.220:7000/",clientState:{defaults:Mt,resolvers:Tt},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Gt=t(37);i.a.render(a.a.createElement(Gt.a,{client:Dt},a.a.createElement(qt,null)),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.64706f8c.chunk.js.map